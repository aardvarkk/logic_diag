# Notes:
# "\n" != '\n'

grammar Grammar
  rule commandset
    command*
  end

  rule command
    commandname spaces* command_detail* "#"* [^\n]* "\n"
    # &{ |c| binding.pry; true }
  end

  rule commandname
    [^ ]+
  end

  rule spaces
    [ ]+
  end

  rule command_detail
    assignment / logic
  end

  rule assignment
    variable [ ]* ":=" [ ]* logic
  end

  rule variable
    [^ ]+
  end

  rule logic
    [^#\n]+
  end

end